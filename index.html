<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Botiller√≠a Calle Calle | Oficial</title>
    
    <link href="https://fonts.googleapis.com/css?family=Oswald:400,500,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-yellow: #E6D41E;
            --bg-dark: #121212;
            --card-dark: #222222;
            --text-light: #E1E3E2;
            --price-red: #FF0000;
            --accent-green: #00c77d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: manipulation; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            padding-top: 130px;
            overflow-x: hidden;
        }

        /* --- HEADER --- */
        .top-bar {
            background-color: #000;
            color: var(--primary-yellow);
            text-align: center;
            padding: 8px;
            font-weight: 700;
            font-size: 12px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1002;
            letter-spacing: 1px;
        }

        header {
            background-color: #000;
            padding: 15px 0;
            position: fixed;
            top: 30px;
            width: 100%;
            z-index: 1001;
            border-bottom: 1px solid #333;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .logo {
            font-family: 'Oswald', sans-serif;
            font-size: 24px;
            color: white;
            text-transform: uppercase;
            text-decoration: none;
            line-height: 1;
        }
        .logo span { color: var(--primary-yellow); }

        .search-container {
            flex: 1;
            margin: 0 20px;
            display: none;
        }
        @media(min-width: 768px) { .search-container { display: block; margin: 0 40px; } }

        .search-input {
            width: 100%;
            background: #333;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            color: white;
            font-family: 'Montserrat', sans-serif;
        }

        /* --- NAV CATEGORIAS --- */
        .categories-bar {
            background-color: var(--bg-dark);
            border-bottom: 1px solid #333;
            position: fixed;
            top: 95px;
            width: 100%;
            z-index: 1000;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .cat-list {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            gap: 20px;
        }

        .cat-item {
            color: #ccc;
            text-decoration: none;
            font-family: 'Oswald', sans-serif;
            font-size: 14px;
            font-weight: 500;
            text-transform: uppercase;
            transition: color 0.3s;
        }
        .cat-item:hover, .cat-item.active { color: var(--primary-yellow); }

        /* --- LAYOUT GENERAL --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .section-title {
            font-family: 'Oswald', sans-serif;
            font-size: 24px;
            margin: 40px 0 20px 0;
            border-left: 4px solid var(--primary-yellow);
            padding-left: 10px;
            color: white;
            text-transform: uppercase;
        }

        /* --- CARDS --- */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
        }
        @media(min-width: 768px) {
            .products-grid { grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 25px; }
        }

        .product-card {
            background-color: var(--card-dark);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            border: 1px solid #333;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s;
        }

        .product-card:hover {
            border-color: var(--primary-yellow);
            transform: translateY(-5px);
        }

        .badges {
            position: absolute;
            top: 8px;
            left: 8px;
            right: 8px;
            display: flex;
            justify-content: space-between;
            z-index: 10;
            pointer-events: none;
        }

        .badge {
            font-weight: 700;
            font-size: 10px;
            padding: 3px 6px;
            border-radius: 4px;
            color: black;
        }
        .badge-red { background-color: var(--price-red); color: white; }
        .badge-yellow { background-color: var(--primary-yellow); }
        .badge-green { background-color: var(--accent-green); color: white; }

        .card-image {
            width: 100%;
            height: 180px;
            object-fit: contain;
            background-color: white;
            padding: 15px;
        }

        .card-info {
            padding: 12px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .product-name {
            font-size: 13px;
            font-weight: 600;
            line-height: 1.3;
            color: white;
            margin-bottom: 8px;
            height: 34px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .prices {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 12px;
        }

        .price-offer {
            color: var(--primary-yellow);
            font-size: 18px;
            font-weight: 700;
            font-family: 'Oswald', sans-serif;
        }

        .price-normal {
            text-decoration: line-through;
            color: #888;
            font-size: 11px;
        }

        .btn-add {
            background-color: var(--primary-yellow);
            color: black;
            text-align: center;
            padding: 8px;
            border-radius: 20px;
            text-transform: uppercase;
            font-weight: 700;
            font-size: 12px;
            text-decoration: none;
            display: block;
            margin-top: auto;
        }
        .btn-add:hover { background-color: #c7b61a; }

        /* --- ZONA DE JUEGO OPTIMIZADA --- */
        .game-section {
            background: linear-gradient(180deg, #111 0%, #000 100%);
            border-top: 3px solid var(--primary-yellow);
            padding: 30px 10px;
            text-align: center;
            margin-top: 60px;
            position: relative;
        }

        canvas {
            border: 2px solid var(--primary-yellow);
            background: #87ceeb;
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 10px auto;
            display: block;
            touch-action: none; /* Prevenir scroll al tocar el canvas */
        }

        /* Controles T√°ctiles */
        .game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .game-btn {
            background: var(--primary-yellow);
            border: none;
            padding: 15px 30px;
            font-family: 'Oswald', sans-serif;
            font-weight: bold;
            font-size: 18px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(230, 212, 30, 0.3);
            active: scale(0.95);
            touch-action: manipulation;
        }

        .jump-btn-mobile {
            display: none; /* Se muestra con JS si es m√≥vil */
            width: 80px;
            height: 80px;
            border-radius: 50%;
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(230, 212, 30, 0.8);
            border: 2px solid white;
            z-index: 2000;
            font-size: 30px;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        footer {
            background: #000;
            padding: 40px 20px;
            text-align: center;
            font-size: 12px;
            color: #666;
            border-top: 1px solid #333;
            padding-bottom: 80px; /* Espacio para bot√≥n flotante */
        }
    </style>
</head>
<body>

    <div class="top-bar">DESPACHO EXPRESS üöö | PEDIDOS WSP: +56 9 1234 5678</div>
    
    <header>
        <div class="header-inner">
            <a href="#" class="logo">CALLE <span>CALLE</span></a>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Buscar producto...">
            </div>
            <a href="#" style="color:var(--primary-yellow); font-weight:700; text-decoration:none; font-size:14px;">CLUB SOCIOS</a>
        </div>
    </header>

    <div class="categories-bar">
        <div class="cat-list">
            <a href="#packs" class="cat-item active">PACKS</a>
            <a href="#piscos" class="cat-item">PISCOS</a>
            <a href="#vinos" class="cat-item">VINOS</a>
            <a href="#espumantes" class="cat-item">ESPUMANTES</a>
            <a href="#juego" class="cat-item" style="color:var(--accent-green)">JUEGA Y GANA</a>
        </div>
    </div>

    <div class="container">
        
        <h2 id="packs" class="section-title">PACKS DESTACADOS</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-30%</span></div>
                <img src="1000073999.jpg" alt="Pack Internacional" class="card-image">
                <div class="card-info">
                    <div class="product-name">Pack Premium Internacional (Stella, Becker, Brahma)</div>
                    <div class="prices">
                        <span class="price-offer">$12.990</span>
                        <span class="price-normal">$18.500</span>
                    </div>
                    <a href="https://wa.me/56912345678?text=Quiero%20el%20Pack%20Internacional" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-green">0% ALCOHOL</span></div>
                <img src="1000073998.jpg" alt="Sin Alcohol" class="card-image">
                <div class="card-info">
                    <div class="product-name">Pack Consumo Consciente 0.0% Alcohol</div>
                    <div class="prices">
                        <span class="price-offer">$9.990</span>
                        <span class="price-normal">$11.500</span>
                    </div>
                    <a href="https://wa.me/56912345678?text=Quiero%20el%20Pack%20Cero" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-yellow">FAVORITO</span></div>
                <img src="1000073997.jpg" alt="Nacional" class="card-image">
                <div class="card-info">
                    <div class="product-name">Pack Mix Nacional Favoritas (Cristal, Escudo)</div>
                    <div class="prices">
                        <span class="price-offer">$10.500</span>
                        <span class="price-normal">$13.200</span>
                    </div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
        </div>

        <h2 id="piscos" class="section-title">PISCOS EN OFERTA</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-27%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/232.png" class="card-image" alt="Alto del Carmen">
                <div class="card-info">
                    <div class="product-name">Pisco Alto del Carmen 35¬∞ 1 Litro</div>
                    <div class="prices"><span class="price-offer">$6.290</span><span class="price-normal">$8.660</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-26%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/279.png" class="card-image" alt="Mistral">
                <div class="card-info">
                    <div class="product-name">Pisco Mistral 35¬∞ A√±ejado 1 Litro</div>
                    <div class="prices"><span class="price-offer">$7.590</span><span class="price-normal">$10.290</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-yellow">PREMIUM</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/276.png" class="card-image" alt="Nobel">
                <div class="card-info">
                    <div class="product-name">Pisco Mistral Nobel 40¬∞ 750cc</div>
                    <div class="prices"><span class="price-offer">$14.390</span><span class="price-normal">$19.187</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
        </div>

        <h2 id="vinos" class="section-title">VINOS SELECCIONADOS</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-23%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/1628.png" class="card-image" alt="Diablo Dark Red">
                <div class="card-info">
                    <div class="product-name">Vino Diablo Dark Red Blend 750cc</div>
                    <div class="prices"><span class="price-offer">$6.990</span><span class="price-normal">$9.070</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-15%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/1592.png" class="card-image" alt="Casillero">
                <div class="card-info">
                    <div class="product-name">Casillero del Diablo Cabernet Sauvignon</div>
                    <div class="prices"><span class="price-offer">$5.490</span><span class="price-normal">$6.490</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-yellow">35 SUR</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/1660.png" class="card-image" alt="35 Sur">
                <div class="card-info">
                    <div class="product-name">Vino 35 Sur Cabernet Sauvignon Reserva</div>
                    <div class="prices"><span class="price-offer">$3.990</span><span class="price-normal">$4.890</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-34%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/1685.png" class="card-image" alt="Santa Helena">
                <div class="card-info">
                    <div class="product-name">Vino Santa Helena Blanco Tetra 2Lt</div>
                    <div class="prices"><span class="price-offer">$3.390</span><span class="price-normal">$5.150</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
        </div>

        <h2 id="espumantes" class="section-title">MUNDO BURBUJAS</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-28%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/1090.png" class="card-image" alt="Valdivieso">
                <div class="card-info">
                    <div class="product-name">Espumante Valdivieso Brut 750cc</div>
                    <div class="prices"><span class="price-offer">$4.390</span><span class="price-normal">$6.070</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
            <div class="product-card">
                <div class="badges"><span class="badge badge-red">-37%</span></div>
                <img src="https://storage.googleapis.com/liquidos-public/products/large/1109.png" class="card-image" alt="Vi√±amar">
                <div class="card-info">
                    <div class="product-name">Espumante Vi√±amar Brut 750cc</div>
                    <div class="prices"><span class="price-offer">$5.190</span><span class="price-normal">$8.200</span></div>
                    <a href="https://wa.me/56912345678" class="btn-add">AGREGAR</a>
                </div>
            </div>
        </div>

    </div>

    <div id="juego" class="game-section">
        <h2 style="font-family:'Oswald'; color:white; margin-bottom:10px;">
            DESAF√çO <span style="color:var(--primary-yellow)">CALLE CALLE</span>
        </h2>
        <p style="color:#ccc; margin-bottom:20px;">
            ¬°Sobrevive 1000m y gana 10% DE DESCUENTO!<br>
            <small>(Usa los botones para jugar en celular)</small>
        </p>
        
        <div style="font-size:1.2rem; color:white; margin:15px 0;">
            ‚ù§Ô∏è <span id="lives">3</span> | üìç <span id="distance">0</span>m
        </div>

        <canvas id="gameCanvas" width="800" height="400"></canvas>
        
        <div class="game-controls">
            <button id="startBtn" class="game-btn">COMENZAR JUEGO</button>
            <button id="jumpBtn" class="game-btn" style="display:none;">SALTAR ‚¨ÜÔ∏è</button>
        </div>
    </div>

    <div id="mobileJumpOverlay" class="jump-btn-mobile">‚¨ÜÔ∏è</div>

    <footer>
        <h3 style="color:white; font-family:'Oswald'">BOTILLER√çA CALLE CALLE</h3>
        <p>üìç Calle Beaucheff, Santiago</p>
        <p style="color:#666; margin-top:10px;">Prohibida la venta a menores de 18 a√±os.</p>
    </footer>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const jumpBtn = document.getElementById('jumpBtn');
        const mobileJump = document.getElementById('mobileJumpOverlay');
        
        let game = { running: false, speed: 5, score: 0, lives: 3, frame: 0 };
        let player = { x: 50, y: 300, width: 30, height: 50, dy: 0, jumpPower: -13, gravity: 0.6, grounded: true };
        let obstacles = [];

        // Iniciar
        startBtn.addEventListener('click', startGame);
        
        // Controles Universales
        function handleJump(e) {
            if(e) e.preventDefault(); // Evitar scroll
            if (player.grounded && game.running) {
                player.dy = player.jumpPower;
                player.grounded = false;
            }
        }

        // Eventos Teclado
        window.addEventListener('keydown', e => { 
            if(e.code === 'Space' || e.code === 'ArrowUp') handleJump(e); 
        });

        // Eventos Touch (Canvas y Botones)
        canvas.addEventListener('touchstart', handleJump);
        jumpBtn.addEventListener('touchstart', handleJump);
        jumpBtn.addEventListener('click', handleJump); // Click para mouse
        mobileJump.addEventListener('touchstart', handleJump);

        function startGame() {
            if (game.running) return;
            
            // Reiniciar variables
            game = { running: true, speed: 5, score: 0, lives: 3, frame: 0 };
            player.y = 300; 
            player.dy = 0;
            obstacles = [];
            
            // UI Update
            startBtn.style.display = 'none';
            jumpBtn.style.display = 'inline-block'; // Mostrar bot√≥n saltar en desktop/mobile
            
            // Detectar si es m√≥vil para mostrar el bot√≥n flotante
            if(window.innerWidth < 768) {
                mobileJump.style.display = 'flex';
            }

            loop();
        }

        function loop() {
            if (!game.running) return;
            requestAnimationFrame(loop);
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Fondo
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0,0,canvas.width,canvas.height);
            
            // Calle
            ctx.fillStyle = '#333';
            ctx.fillRect(0, 350, canvas.width, 50);
            ctx.strokeStyle = '#E6D41E';
            ctx.beginPath();
            ctx.setLineDash([20, 20]);
            ctx.moveTo(0, 375);
            ctx.lineTo(canvas.width, 375);
            ctx.stroke();

            // F√≠sica Jugador
            player.dy += player.gravity;
            player.y += player.dy;
            if (player.y > 300) { 
                player.y = 300; 
                player.dy = 0; 
                player.grounded = true; 
            }

            // Dibujar Jugador (Botella)
            ctx.fillStyle = '#E6D41E';
            ctx.fillRect(player.x, player.y, player.width, player.height);
            ctx.fillStyle = 'black';
            ctx.font = '25px Arial';
            ctx.fillText('üçæ', player.x - 2, player.y + 35);

            // Generar Obst√°culos
            if (game.frame++ % 100 === 0) {
                obstacles.push({ x: canvas.width, type: Math.random() > 0.5 ? 'üöì' : 'üöß' });
            }

            // Mover Obst√°culos
            for (let i = 0; i < obstacles.length; i++) {
                let obs = obstacles[i];
                obs.x -= game.speed;
                ctx.font = '30px Arial';
                ctx.fillText(obs.type, obs.x, 345);

                // Colisi√≥n simple
                if (obs.x < player.x + player.width && obs.x + 30 > player.x && player.y > 260) {
                    game.lives--;
                    obstacles.splice(i, 1);
                    document.getElementById('lives').innerText = game.lives;
                    if (game.lives <= 0) gameOver();
                }
            }

            // Score
            game.score += 0.2;
            document.getElementById('distance').innerText = Math.floor(game.score);
            if(Math.floor(game.score) >= 1000) gameWin();
        }

        function gameOver() {
            game.running = false;
            alert('¬°GAME OVER! Int√©ntalo de nuevo.');
            resetUI();
        }

        function gameWin() {
            game.running = false;
            alert('¬°GANASTE! üéâ Saca pantallazo y pide tu descuento.');
            resetUI();
        }

        function resetUI() {
            startBtn.style.display = 'inline-block';
            startBtn.innerText = "JUGAR DE NUEVO";
            jumpBtn.style.display = 'none';
            mobileJump.style.display = 'none';
        }
    </script>
</body>
</html>
